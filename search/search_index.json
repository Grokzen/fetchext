{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to fetchext","text":"<p>fetchext is a powerful Python CLI tool designed to download, analyze, and audit browser extensions from Chrome, Edge, and Firefox web stores.</p> <ul> <li> <p>:material-console: CLI Reference</p> <p>Comprehensive guide to all <code>fext</code> commands, flags, and options.</p> </li> <li> <p>:material-microscope: Analysis &amp; Forensics</p> <p>Learn how to inspect code, visualize dependencies, and detect risks.</p> </li> <li> <p>:material-server: Deployment</p> <p>Guides for Docker, local mirroring, and enterprise integration.</p> </li> <li> <p>:material-download: Installation</p> <p>Get started with <code>pip</code>, <code>docker</code>, or source installation.</p> </li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Multi-Browser Support: Download from Chrome, Edge, and Firefox stores.</li> <li>Deep Analysis: Calculate entropy, complexity, and scan for secrets.</li> <li>Security Auditing: Detect MV3 issues, dangerous permissions, and vulnerable libraries.</li> <li>Forensics: Visualize file timelines and dependency graphs.</li> <li>Automation: Batch processing, JSON output, and CI/CD integration.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install\npip install fetchext\n\n# Download an extension\nfext download chrome &lt;url&gt;\n\n# Analyze it\nfext analyze --risk &lt;file&gt;\n</code></pre>"},{"location":"analysis/","title":"Analysis &amp; Forensics","text":"<p><code>fetchext</code> provides a suite of tools for analyzing browser extensions, ranging from basic metadata inspection to deep forensic analysis of source code and behavior.</p>"},{"location":"analysis/#risk-assessment","title":"Risk Assessment","text":""},{"location":"analysis/#permission-scoring","title":"Permission Scoring","text":"<p>The <code>risk</code> command calculates a \"Privacy Risk Score\" based on the permissions requested in the manifest.</p> <pre><code>fext risk &lt;file&gt;\n</code></pre> <p>Scoring Logic:</p> <ul> <li>Critical (10): <code>&lt;all_urls&gt;</code>, <code>debugger</code>, <code>webRequestBlocking</code>, <code>proxy</code>.</li> <li>High (7-9): <code>tabs</code>, <code>history</code>, <code>bookmarks</code>, <code>cookies</code>.</li> <li>Medium (4-6): <code>storage</code>, <code>notifications</code>, <code>geolocation</code>.</li> <li>Low (1-3): <code>alarms</code>, <code>idle</code>.</li> </ul> <p>Toxic Combinations: The analyzer also looks for dangerous combinations of permissions that amplify risk, such as:</p> <ul> <li><code>tabs</code> + <code>cookies</code> + <code>&lt;all_urls&gt;</code> (Session Hijacking risk)</li> <li><code>webRequest</code> + <code>webRequestBlocking</code> (Man-in-the-Middle risk)</li> </ul>"},{"location":"analysis/#content-security-policy-csp","title":"Content Security Policy (CSP)","text":"<p>The <code>audit</code> command checks the extension's CSP for weak configurations that could allow Cross-Site Scripting (XSS) or code injection.</p> <pre><code>fext audit &lt;file&gt;\n</code></pre> <p>Checks:</p> <ul> <li>Usage of <code>unsafe-eval</code> (allows <code>eval()</code>).</li> <li>Usage of <code>unsafe-inline</code> (allows inline scripts).</li> <li>Missing <code>object-src</code> restrictions.</li> <li>overly permissive <code>connect-src</code>.</li> </ul>"},{"location":"analysis/#code-analysis","title":"Code Analysis","text":""},{"location":"analysis/#entropy-analysis","title":"Entropy Analysis","text":"<p>High entropy in files often indicates packed, obfuscated, or encrypted code, which is common in malware trying to hide its payload.</p> <pre><code>fext analyze entropy &lt;file&gt;\n</code></pre> <p>The tool calculates the Shannon entropy (0-8) for every file in the archive.</p> <ul> <li>&gt; 7.5: Likely compressed or encrypted.</li> <li>&gt; 6.0: Potential obfuscated code (if it's a JS file).</li> </ul>"},{"location":"analysis/#cyclomatic-complexity","title":"Cyclomatic Complexity","text":"<p>To detect obfuscated code that hasn't been packed, <code>fetchext</code> measures the cyclomatic complexity of JavaScript functions.</p> <pre><code>fext analyze complexity &lt;file&gt;\n</code></pre> <p>Obfuscated code often has abnormally high complexity (nested loops, conditionals) or very long single-line functions.</p>"},{"location":"analysis/#yara-scanning","title":"YARA Scanning","text":"<p>Scan extension files against custom or standard YARA rules to detect known malware signatures.</p> <pre><code>fext analyze yara /path/to/rules/ &lt;file&gt;\n</code></pre> <p>You can provide a single <code>.yar</code> file or a directory containing multiple rule files.</p>"},{"location":"analysis/#secret-scanning","title":"Secret Scanning","text":"<p>The <code>analyze secrets</code> command searches source code for accidentally committed credentials.</p> <pre><code>fext analyze secrets &lt;file&gt;\n</code></pre> <p>Detects:</p> <ul> <li>AWS Access Keys</li> <li>Google API Keys</li> <li>Slack Tokens</li> <li>Stripe Keys</li> <li>Generic high-entropy strings resembling keys.</li> </ul>"},{"location":"analysis/#network-forensics","title":"Network Forensics","text":""},{"location":"analysis/#domain-extraction","title":"Domain Extraction","text":"<p>To understand where an extension is sending data, use the domain extractor. It parses JavaScript, HTML, CSS, and JSON files to find all URLs and domains.</p> <pre><code>fext analyze domains &lt;file&gt;\n</code></pre> <p>This is useful for identifying tracking endpoints, C2 servers, or external dependencies.</p>"},{"location":"analysis/#wasm-analysis","title":"WASM Analysis","text":"<p>Analyze WebAssembly (<code>.wasm</code>) modules to extract metadata, imports, and exports.</p> <pre><code>fext analyze wasm &lt;file.wasm&gt;\n</code></pre> <p>Features:</p> <ul> <li>Parses WASM binary header and sections.</li> <li>Lists imported functions and modules.</li> <li>Lists exported functions (entry points).</li> <li>Identifies custom sections (e.g., debug names).</li> </ul>"},{"location":"analysis/#api-usage-heatmap","title":"API Usage Heatmap","text":"<p>Generate a frequency map of Chrome/Browser API calls to identify high-risk areas.</p> <pre><code>fext analyze api-usage &lt;file&gt;\n</code></pre> <p>Features:</p> <ul> <li>Scans JavaScript and HTML files.</li> <li>Detects <code>chrome.*</code> and <code>browser.*</code> API calls.</li> <li>Outputs total calls, unique APIs, and per-file usage.</li> </ul>"},{"location":"analysis/#visualization","title":"Visualization","text":""},{"location":"analysis/#timeline-view","title":"Timeline View","text":"<p>The <code>timeline</code> command visualizes the modification dates of files within the archive.</p> <pre><code>fext timeline &lt;file&gt;\n</code></pre> <p>Forensic Use:</p> <ul> <li>Identify files modified after the official build time.</li> <li>Detect \"timestomping\" (if dates are impossibly old or future).</li> <li>See the development cadence.</li> </ul>"},{"location":"analysis/#dependency-graph","title":"Dependency Graph","text":"<p>Generate a visual graph of internal file dependencies (imports, requires, script tags).</p> <pre><code>fext graph &lt;file&gt;\n</code></pre> <p>This produces a DOT file that can be rendered with Graphviz to visualize the architecture of the extension.</p>"},{"location":"analysis/#localization-analysis","title":"Localization Analysis","text":""},{"location":"analysis/#locale-inspection","title":"Locale Inspection","text":"<p>The <code>locales</code> command inspects the <code>_locales</code> directory to identify supported languages and message counts.</p> <pre><code>fext locales &lt;file&gt;\n</code></pre> <p>Analysis:</p> <ul> <li>Identifies the <code>default_locale</code> specified in the manifest.</li> <li>Lists all supported locale codes (e.g., <code>en_US</code>, <code>fr</code>, <code>es</code>).</li> <li>Counts the number of translation messages for each locale, helping to identify incomplete translations.</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#260-2025-12-10","title":"[2.6.0] - 2025-12-10","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>AST-Based Diff: Added <code>--ast</code> flag to <code>fext diff</code> to compare JavaScript files using Abstract Syntax Trees (AST), ignoring whitespace and comments for more meaningful diffs.</li> <li>WASM Inspector: Added <code>fext analyze wasm &lt;file&gt;</code> to analyze WebAssembly modules, extracting imports, exports, and section stats without external dependencies.</li> <li>Community Rules Sync: Added <code>fext rules sync</code> to automatically download and update YARA rules and analysis signatures from a community-maintained git repository.</li> <li>API Usage Heatmap: Added <code>fext analyze api-usage &lt;file&gt;</code> to generate a frequency map of Chrome/Browser API calls, helping auditors focus on high-risk areas.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Source Refactor: Major architectural refactor moving from a flat <code>src/fetchext/</code> structure to modular sub-packages (<code>core</code>, <code>network</code>, <code>data</code>, <code>security</code>, <code>interface</code>, <code>workflow</code>). This improves code organization, reduces circular dependencies, and prepares the codebase for future scalability.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Windows CI: Fixed <code>UnicodeDecodeError</code> on Windows by explicitly setting <code>encoding=\"utf-8\"</code> in all file <code>open()</code> calls across the codebase (CLI, analysis, reporting, scripts).</li> <li>MacOS CI: Fixed <code>ProcessPoolExecutor</code> failures in unit tests on MacOS by mocking the executor in <code>test_grep.py</code>, avoiding spawn-related issues in the test environment.</li> <li>MV3 Migration: Improved <code>fext migrate</code> to intelligently merge <code>page_action</code> and <code>browser_action</code> instead of overwriting, and to use <code>content_scripts</code> matches for <code>web_accessible_resources</code> instead of defaulting to <code>&lt;all_urls&gt;</code>.</li> <li>Windows File Locking: Fixed <code>PermissionError</code> on Windows in <code>YaraScanner</code> by ensuring temporary files are closed before being read by other processes or the same process.</li> <li>Test Stability: Fixed a hang in <code>test_batch_parallel.py</code> by using the real filesystem instead of <code>pyfakefs</code> for parallel execution tests, avoiding concurrency issues.</li> <li>MacOS CI: Fixed <code>ProcessPoolExecutor</code> failures in performance benchmarks (<code>test_benchmarks.py</code>) on MacOS by mocking the executor, avoiding spawn-related issues in the CI environment.</li> <li>Windows CI: Fixed <code>OSError</code> in tests by replacing hardcoded <code>/tmp</code> paths with <code>pathlib.Path.cwd()</code> in <code>test_api_usage.py</code> and <code>test_licenses.py</code> to ensure compatibility with <code>pyfakefs</code> on all platforms.</li> <li>Windows CI: Fixed <code>ModuleNotFoundError: No module named 'tomllib'</code> on Python 3.10 environments by adding a compatibility shim in <code>config.py</code> to use <code>tomli</code> as a fallback.</li> <li>Windows CI: Fixed path separator issues in <code>graph.py</code> by normalizing paths to use forward slashes, ensuring consistent dependency graph generation across operating systems.</li> <li>Windows CI: Fixed <code>AssertionError</code> in <code>test_rules.py</code> by using <code>pathlib.Path</code> for cross-platform path comparisons instead of hardcoded strings.</li> </ul>"},{"location":"changelog/#250-2025-12-10","title":"[2.5.0] - 2025-12-10","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Dynamic Analysis Sandbox: Added <code>fext analyze dynamic &lt;file&gt;</code> to launch the extension in a headless browser (using Playwright) and capture screenshots, console logs, and network activity during runtime.</li> <li>STIX Export: Added <code>fext export --stix &lt;file&gt;</code> to generate STIX 2.1 Threat Intelligence bundles containing indicators (hashes, domains, URLs) and YARA matches for integration with security platforms.</li> <li>Cross-Platform CI: Expanded GitHub Actions workflow to run tests on Windows and macOS in addition to Linux, ensuring broader compatibility.</li> <li>Snapshot Testing: Implemented snapshot testing for CLI output using <code>syrupy</code> to detect unintended visual changes or regressions in command output.</li> <li>TUI Themes: Added support for user-configurable color schemes in <code>config.toml</code> for the TUI, allowing users to customize the interface appearance.</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Unified Network Client: Refactored the networking layer to use a centralized <code>NetworkClient</code> class, consolidating session management, retries, proxy configuration, and rate limiting across all downloaders (Chrome, Edge, Firefox). This improves maintainability and consistency in network behavior.</li> </ul>"},{"location":"changelog/#240-2025-12-10","title":"[2.4.0] - 2025-12-10","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Directory Watcher: Added <code>fext watch &lt;dir&gt;</code> command to monitor a folder for new extensions and automatically trigger extraction, reporting, or scanning.</li> <li>Report Sharing: Added <code>fext share &lt;report.html&gt;</code> command to upload reports to GitHub Gist (requires <code>GITHUB_TOKEN</code>) and generate shareable links.</li> <li>TUI E2E Testing: Implemented automated end-to-end tests for the TUI using <code>textual.pilot</code> to verify search, download, and navigation flows.</li> <li>Migration Regression Tests: Added a suite of \"golden\" tests for <code>fext migrate</code> to verify MV2-&gt;MV3 conversion accuracy against known good outputs, ensuring the migration logic remains stable.</li> <li>Complexity in Reports: Integrated cyclomatic complexity metrics (average, max, top complex functions) into HTML reports generated by <code>fext report --html</code>.</li> <li>Firefox Signature Verification: Added <code>XpiVerifier</code> to verify the integrity of Firefox extensions (<code>.xpi</code>) by validating <code>META-INF/manifest.mf</code> hashes and checking for signature presence.</li> <li>SQL Query Interface: Added <code>fext query &lt;sql&gt;</code> command to execute raw SQL queries against the local history database (<code>history.db</code>), supporting JSON, CSV, and table output.</li> <li>History Concurrency: Enabled SQLite WAL (Write-Ahead Logging) mode for the history database to support high-concurrency scenarios (e.g., parallel batch downloads) without locking errors.</li> <li>CLI Theming: Introduced a centralized <code>Theme</code> system to enforce consistent colors, emojis, and formatting across all CLI commands, improving visual coherence.</li> </ul>"},{"location":"changelog/#230-2025-12-10","title":"[2.3.0] - 2025-12-10","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>Visual Diff: Added <code>fext diff --visual</code> to generate interactive HTML reports showing side-by-side comparisons of modified files and images.</li> <li>Permission Matrix: Added <code>fext analyze permissions &lt;directory&gt;</code> to generate a cross-reference matrix of permissions across multiple extensions (JSON/CSV/Table).</li> <li>Property-Based Testing: Implemented advanced fuzz testing for <code>CrxDecoder</code> using <code>hypothesis</code> to ensure robustness against malformed CRX headers.</li> <li>Performance Benchmarks: Added a benchmarking suite (<code>benchmarks/run.py</code>) to track performance of critical operations (parsing, entropy, complexity, secrets).</li> <li>TUI Mouse Support: Added mouse support to <code>fext ui</code> with a confirmation dialog for downloading extensions by clicking rows.</li> <li>Parallel Grep: Optimized <code>fext grep</code> to use multi-core processing (<code>ProcessPoolExecutor</code>), significantly speeding up searches in large repositories.</li> <li>JS Sandbox: Added <code>fext sandbox &lt;file.js&gt;</code> to execute JavaScript files in a secure, isolated environment using Deno (requires Deno installation).</li> </ul>"},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>Inspector Robustness: Refactored <code>ExtensionInspector</code> to gracefully handle malformed manifests and corrupt archives, preventing crashes in reporting and visualization tools.</li> <li>Network Error Handling: Improved handling of HTTP 403 (Access Denied) and 429 (Rate Limit) errors with actionable user feedback (e.g., suggesting VPN or config changes).</li> </ul>"},{"location":"changelog/#220-2025-12-10","title":"[2.2.0] - 2025-12-10","text":""},{"location":"changelog/#added_4","title":"Added","text":"<ul> <li>HTML Reports: Added <code>fext report --html</code> to generate interactive HTML reports with Chart.js visualizations for risk, complexity, and file distribution.</li> <li>Badge Generator: Added <code>fext badge</code> command to generate SVG badges (Shields.io style) for version, risk score, and license, suitable for READMEs.</li> <li>Repository Grep: Added <code>fext grep &lt;pattern&gt;</code> command to search for regex patterns across all downloaded extensions, including content within compressed archives (CRX/ZIP).</li> <li>Custom Rules: Added <code>fext scan --custom &lt;rules.yaml&gt;</code> to run user-defined regex rules against extension source code for specialized auditing.</li> <li>Scalable History: Migrated history tracking from a flat JSON file to a SQLite database (<code>history.db</code>) to support thousands of records and advanced querying.</li> </ul>"},{"location":"changelog/#210-2025-12-10","title":"[2.1.0] - 2025-12-10","text":""},{"location":"changelog/#added_5","title":"Added","text":"<ul> <li>Git Integration: Added <code>fext git init</code> command to initialize a git repository in an extension directory with a tailored <code>.gitignore</code>.</li> <li>Update All: Added <code>fext update --all</code> command to check and update all previously downloaded extensions in parallel.</li> <li>License Scanner: Added <code>fext audit scan --licenses</code> to detect open source licenses (MIT, Apache, GPL, etc.) in extension files.</li> <li>Remote Config: Added <code>fext config remote &lt;url&gt;</code> command to fetch and apply configuration from a remote URL.</li> </ul>"},{"location":"changelog/#200-2025-12-10","title":"[2.0.0] - 2025-12-10","text":""},{"location":"changelog/#added_6","title":"Added","text":"<ul> <li>Extension Packer: Added <code>fext pack &lt;directory&gt;</code> command to create signed CRX3 files from source code, automatically generating RSA keys if needed.</li> <li>MV3 Migration Assistant: Added <code>fext migrate &lt;directory&gt;</code> command to automate the conversion of Manifest V2 extensions to Manifest V3 (updating manifest, permissions, background scripts, CSP).</li> <li>Plugin System Enhancements: Added <code>pre_pack</code>, <code>post_pack</code>, <code>pre_migrate</code>, and <code>post_migrate</code> hooks to the plugin system, allowing custom logic during packing and migration.</li> <li>TUI Dashboard: Added a comprehensive dashboard to <code>fext ui</code> featuring repository statistics, risk distribution charts, and recent activity history.</li> <li>AI Summarizer: Added <code>fext analyze summary &lt;file&gt;</code> command to generate AI-powered summaries of extension functionality using OpenAI-compatible APIs.</li> <li>AI Configuration: Added <code>[ai]</code> section to <code>config.toml</code> for configuring API keys, providers, and models.</li> <li>Code Beautifier: Added <code>fext beautify &lt;file&gt;</code> command to format minified JavaScript and JSON files using <code>jsbeautifier</code>.</li> <li>Similarity Search: Added <code>fext similar &lt;target&gt; &lt;repo&gt;</code> command to find similar extensions using fuzzy hashing (<code>ppdeep</code>).</li> <li>Smart Diff: Enhanced <code>fext diff</code> with <code>--ignore-whitespace</code> flag and basic image comparison (dimensions, format).</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>CLI Breaking Change: Refactored <code>fext analyze</code> to use positional arguments instead of flags.</li> <li>Old: <code>fext analyze --complexity &lt;file&gt;</code></li> <li>New: <code>fext analyze complexity &lt;file&gt;</code></li> <li>Affected subcommands: <code>complexity</code>, <code>entropy</code>, <code>domains</code>, <code>secrets</code>, <code>yara</code>.</li> </ul>"},{"location":"changelog/#190-2025-12-10","title":"[1.9.0] - 2025-12-10","text":""},{"location":"changelog/#changed_3","title":"Changed","text":"<ul> <li>Startup Time Optimization: Implemented lazy loading for heavy dependencies (<code>rich</code>, <code>PIL</code>, <code>lizard</code>, <code>yara</code>, <code>textual</code>, <code>cryptography</code>) to significantly reduce CLI startup time.</li> <li>Memory Optimization: Refactored <code>secrets</code> scanner to stream file content line-by-line and <code>yara</code> scanner to extract large files (&gt;10MB) to temporary storage, reducing memory footprint during analysis of large extensions.</li> <li>TUI Polish: Improved <code>fext ui</code> with asynchronous search and download operations (preventing UI freezes), added browser selection (Chrome, Firefox, Edge), and enhanced error handling.</li> <li>Progress Bars: Standardized progress bar styles across all long-running commands (downloads, batch processing, complexity/entropy/domain analysis) using <code>rich</code>.</li> <li>Dependency Review: Removed <code>tomli</code> dependency as the project now requires Python 3.11+ (which includes <code>tomllib</code>).</li> </ul>"},{"location":"changelog/#180-2025-12-10","title":"[1.8.0] - 2025-12-10","text":""},{"location":"changelog/#added_7","title":"Added","text":"<ul> <li>Plugin System v2: Enhanced plugin system with richer context (<code>config</code>, <code>args</code>) and control flow (cancellation, result modification).</li> <li>New Hooks: Added <code>post_extract</code>, <code>pre_analysis</code>, and <code>post_analysis</code> hooks.</li> <li>Debug Mode: Enhanced <code>-v</code> / <code>--verbose</code> output to include full HTTP request/response headers and status codes (with sensitive data redaction).</li> <li>API Documentation: Added <code>make docs-api</code> to generate HTML API documentation using <code>pdoc</code>.</li> <li>Shell Completion: Added generation of Bash and Zsh completion scripts (<code>docs/completions/</code>).</li> <li>Exit Codes: Standardized CLI exit codes (0=Success, 3=Network, 4=IO, etc.) for better scripting support.</li> </ul>"},{"location":"changelog/#170-2025-12-07","title":"[1.7.0] - 2025-12-07","text":""},{"location":"changelog/#added_8","title":"Added","text":"<ul> <li>CLI Version Flag: Added <code>--version</code> flag to the CLI to display the current version of the tool.</li> <li>Resumable Downloads: Implemented support for resuming interrupted downloads using HTTP <code>Range</code> headers.</li> <li>Network Resilience: Enhanced <code>download_file</code> to handle <code>416 Range Not Satisfiable</code> errors by automatically restarting the download.</li> <li>Integrity Checking: Added <code>--verify-hash &lt;sha256&gt;</code> flag to <code>download</code> command to verify file integrity after download.</li> <li>Proxy Configuration: Added support for configuring HTTP/HTTPS proxies via <code>[network.proxies]</code> in <code>config.toml</code>.</li> <li>Disk Space Safety: Added pre-flight checks to ensure sufficient disk space before downloading or extracting extensions.</li> <li>Filename Sanitization: Implemented filename sanitization to ensure cross-platform compatibility (Windows/macOS/Linux) by stripping illegal characters.</li> </ul>"},{"location":"changelog/#160-2025-12-07","title":"[1.6.0] - 2025-12-07","text":""},{"location":"changelog/#added_9","title":"Added","text":"<ul> <li>Docs Deployment: Added GitHub Actions workflow to automatically build and deploy documentation to GitHub Pages.</li> <li>Unified Audit Report: Added <code>fext report --json</code> to generate a comprehensive JSON report aggregating metadata, risk analysis, MV3 audit, complexity, entropy, domains, and secrets.</li> <li>Documentation Refactor: Split documentation into a slim <code>README.md</code> (Quick Start) and detailed <code>docs/</code> site (MkDocs).</li> </ul>"},{"location":"changelog/#changed_4","title":"Changed","text":"<ul> <li>Performance Optimization: Parallelized entropy and complexity analysis using <code>ProcessPoolExecutor</code> to improve performance on multi-core systems.</li> <li>YARA Integration: Updated <code>fext analyze --yara</code> to accept a directory of rule files, compiling them all for the scan.</li> <li>Risk Scoring Tuning: Refined risk analysis to detect and penalize dangerous permission combinations (e.g., <code>tabs</code> + <code>cookies</code> + <code>&lt;all_urls&gt;</code>).</li> <li>False Positive Reduction: Improved <code>SecretScanner</code> accuracy by filtering out common placeholders, low-entropy strings, and URLs from \"Generic API Key\" matches.</li> <li>Python Compatibility: Added <code>tomli</code> fallback for Python 3.10 compatibility (while maintaining 3.11+ target).</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>Testing: Fixed test suite hangs/deadlocks in complexity and entropy tests by mocking <code>ProcessPoolExecutor</code> when using <code>pyfakefs</code>.</li> </ul>"},{"location":"changelog/#150-2025-12-07","title":"[1.5.0] - 2025-12-07","text":""},{"location":"changelog/#changed_5","title":"Changed","text":"<ul> <li>CLI Modularization: Refactored the monolithic <code>cli.py</code> into a modular command structure under <code>src/fetchext/commands/</code>. This improves maintainability and extensibility.</li> </ul>"},{"location":"changelog/#140-2025-12-07","title":"[1.4.0] - 2025-12-07","text":""},{"location":"changelog/#added_10","title":"Added","text":"<ul> <li>Timeline View: Added <code>fext timeline &lt;file&gt;</code> command to visualize file modification times within an extension archive for forensic analysis.</li> <li>Local Server: Added <code>fext serve</code> command to host the local repository as a Chrome Update Server (HTTP).</li> <li>Dependency Graph: Added <code>fext graph &lt;file&gt;</code> command to generate DOT graphs of internal file dependencies.</li> <li>Image Optimizer: Added <code>fext optimize &lt;directory&gt;</code> command to losslessly compress PNG and JPEG images within an extension to reduce size.</li> <li>Interactive Tutorial: Added <code>fext tutorial</code> command to launch a TUI-based interactive guide for new users.</li> </ul>"},{"location":"changelog/#130-2025-12-06","title":"[1.3.0] - 2025-12-06","text":""},{"location":"changelog/#added_11","title":"Added","text":"<ul> <li>Format Converter: Added <code>fext convert</code> command to convert between extension formats (CRX -&gt; ZIP, Directory -&gt; ZIP).</li> <li>Configuration Wizard: Added <code>fext setup</code> command to interactively create or update the user configuration file.</li> <li>Markdown Reports: Added <code>fext report &lt;file&gt;</code> command to generate comprehensive Markdown reports including metadata, risk analysis, and file structure.</li> <li>Local Update Server: Added <code>fext update-manifest</code> command to generate <code>update.xml</code> (Chrome/Edge) and <code>updates.json</code> (Firefox) for self-hosted extensions.</li> <li>Mirror Mode: Added <code>fext mirror</code> command to synchronize a local directory with a list of extension IDs, supporting updates and pruning.</li> <li>Dependency Scanner: Added <code>fext scan</code> command to detect known vulnerable libraries (e.g., jQuery, Lodash) within extension source code.</li> <li>Plugin Hooks: Added support for Python-based pre/post-download hooks in <code>~/.config/fext/hooks</code>.</li> <li>Rate Limiting: Added <code>rate_limit_delay</code> configuration option to throttle network requests and prevent IP bans.</li> <li>Interactive TUI: Added <code>fext ui</code> command to launch a terminal-based user interface for browsing and downloading extensions.</li> <li>Repository Statistics: Added <code>fext stats</code> command to analyze local repository metrics (count, size, permissions, MV2/MV3 breakdown).</li> <li>CSV Export: Added <code>--csv</code> flag to <code>search</code> and <code>scan</code> commands for exporting results to spreadsheet-friendly format.</li> <li>Man Page Generation: Added <code>make docs</code> to generate standard man pages (<code>docs/man/fext.1</code>).</li> <li>Shell Completion: Added generation of Bash and Zsh completion scripts (<code>docs/completions/</code>).</li> <li>Fuzz Testing: Added <code>make fuzz</code> to run hypothesis-based fuzz tests for robust parsing.</li> <li>Documentation Site: Added MkDocs-based documentation site configuration and <code>make docs-build</code> target.</li> <li>Signed Releases: Added infrastructure for GPG signing of releases (<code>make sign</code>, <code>make release</code>).</li> <li>Complexity Analysis: Added <code>fext analyze --complexity</code> to calculate cyclomatic complexity of JavaScript files.</li> <li>Locale Inspector: Added <code>fext locales</code> command to inspect supported locales and message counts.</li> <li>Docker Image: Added <code>Dockerfile</code> and GitHub Actions workflow for containerized deployment.</li> <li>Pre-commit Hook: Added <code>.pre-commit-hooks.yaml</code> for integration with pre-commit.</li> <li>Permission Explainer: Added <code>fext explain &lt;permission&gt;</code> command to provide detailed descriptions and risk assessments for extension permissions.</li> <li>Entropy Analysis: Added <code>fext analyze --entropy &lt;file&gt;</code> to calculate Shannon entropy of files within an extension to detect obfuscation or packing.</li> <li>Domain Extractor: Added <code>fext analyze --domains &lt;file&gt;</code> to extract all URLs and domains from extension source code for network forensics.</li> <li>YARA Rules: Added <code>fext analyze --yara &lt;rules_file&gt;</code> to scan extension files against YARA rules for malware detection.</li> <li>Config Management: Added <code>fext config</code> subcommand to get, set, and list configuration values in <code>~/.config/fext/config.toml</code>.</li> <li>Cache Management: Added <code>fext clean</code> subcommand to remove build artifacts, caches, and temporary files.</li> <li>CSP Auditor: Added Content Security Policy analysis to <code>fext audit</code> to detect weak security configurations.</li> <li>Secret Scanner: Added <code>fext scan --secrets</code> to detect API keys and tokens (AWS, Google, Slack, Stripe) in extension source code.</li> <li>History Tracking: Added <code>fext history</code> command to view a log of downloaded and extracted extensions.</li> <li>JSON Schema: Added <code>fext schema &lt;type&gt;</code> command to output JSON schemas for configuration and reports.</li> <li>Plugin Manager: Added <code>fext plugin</code> command to list, install, enable, and disable Python-based hooks.</li> </ul>"},{"location":"changelog/#070-2025-12-06","title":"[0.7.0] - 2025-12-06","text":""},{"location":"changelog/#added_12","title":"Added","text":"<ul> <li>Source Preview: Added <code>fext preview &lt;file&gt;</code> command to list extension contents without extracting.</li> <li>Manifest V3 Auditor: Added <code>fext audit &lt;file&gt;</code> command to check for MV3 compatibility and deprecated APIs.</li> <li>Diff Command: Added <code>fext diff &lt;old&gt; &lt;new&gt;</code> command to compare two extension versions.</li> <li>Risk Analysis: Added <code>fext risk &lt;file&gt;</code> command to analyze permission risks and assign a privacy score.</li> <li>Signature Verification: Added <code>fext verify &lt;file&gt;</code> command to cryptographically verify CRX3 signatures.</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Build System: Fixed <code>TypeError: canonicalize_version()</code> build error by upgrading <code>setuptools</code> requirement to <code>&gt;=77.0</code>.</li> <li>CI/CD: Fixed CI test failures by adding missing <code>pytest-asyncio</code> dependency and fixing TUI test focus logic.</li> <li>Logging: Fixed a regression where the TUI module globally disabled logging, causing test failures in other modules.</li> <li>Deprecations: Resolved <code>setuptools</code> deprecation warnings by updating <code>pyproject.toml</code> to use SPDX license expression and removing deprecated classifiers.</li> </ul>"},{"location":"changelog/#060-2025-12-05","title":"[0.6.0] - 2025-12-05","text":""},{"location":"changelog/#added_13","title":"Added","text":"<ul> <li>Update Checker: Added <code>check</code> subcommand to check for updates of local extension files against the Web Store.</li> <li>JSON Output: Added <code>--json</code> flag to <code>search</code> and <code>inspect</code> commands to output machine-readable JSON.</li> <li>PyPI Publishing: Added GitHub Actions workflow to automatically publish releases to PyPI on tag creation.</li> </ul>"},{"location":"changelog/#changed_6","title":"Changed","text":"<ul> <li>Library Mode: Refactored core logic into <code>src/fetchext/core.py</code> to allow programmatic usage of <code>fetchext</code> as a library.</li> <li>Public API: Exposed <code>download_extension</code>, <code>search_extension</code>, <code>inspect_extension</code>, <code>extract_extension</code>, and <code>batch_download</code> in <code>src/fetchext/__init__.py</code>.</li> </ul>"},{"location":"changelog/#050-2025-12-05","title":"[0.5.0] - 2025-12-05","text":""},{"location":"changelog/#added_14","title":"Added","text":"<ul> <li>Proper CRX Parsing: Implemented a robust CRX3 parser (<code>CrxDecoder</code>) and <code>PartialFileReader</code> to handle CRX files without loading them entirely into memory.</li> <li>Network Resilience: Added automatic retries with exponential backoff for network requests to handle transient failures (5xx errors, connection issues).</li> <li>Config File: Added support for a user configuration file (<code>~/.config/fext/config.toml</code>) to set default values for download directory, worker count, and flags.</li> <li>Verbose/Quiet Mode: Added <code>-v</code> / <code>--verbose</code> (DEBUG level) and <code>-q</code> / <code>--quiet</code> (ERROR level, no progress bars) flags for global logging control.</li> <li>User-Agent Rotation: Implemented random User-Agent rotation for network requests to avoid blocking by Web Stores.</li> </ul>"},{"location":"changelog/#030-2025-12-04","title":"[0.3.0] - 2025-12-04","text":""},{"location":"changelog/#added_15","title":"Added","text":"<ul> <li>Extract Command: Added <code>fext extract</code> subcommand to unzip existing extension files.</li> <li>Auto-Extraction: Added <code>--extract</code> / <code>-x</code> flag to <code>download</code> command to automatically unzip the downloaded extension.</li> <li>Metadata Sidecars: Added <code>--save-metadata</code> / <code>-m</code> flag to <code>download</code> command to save extension details (ID, name, version, source, timestamp) to a JSON file.</li> <li>Rich Output: Replaced <code>tqdm</code> and standard logging with <code>rich</code> for beautiful console output, progress bars, and tables.</li> <li>Progress Bars: Integrated <code>tqdm</code> to display progress bars for file downloads and batch processing.</li> <li>Dependencies: Added <code>rich</code> to <code>pyproject.toml</code> and <code>requirements-dev.txt</code>.</li> <li>Parallel Batch Downloading: <code>fext batch</code> now supports downloading multiple extensions simultaneously.</li> <li>CLI Argument: Added <code>-w</code> / <code>--workers</code> flag to <code>fext batch</code> to control the number of concurrent downloads (default: 4).</li> <li>Makefile Target: Added <code>make test-batch-cli</code> for smoke testing batch downloads without pytest.</li> <li>Integration Tests: Added <code>tests/integration/test_batch_parallel.py</code> to verify parallel execution performance.</li> <li>Testing: Added <code>pyfakefs</code> to <code>requirements-dev.txt</code> and integrated it into unit and integration tests to mock file system operations.</li> </ul>"},{"location":"changelog/#changed_7","title":"Changed","text":"<ul> <li>Dependencies: Replaced <code>tqdm</code> with <code>rich</code> in <code>pyproject.toml</code> and <code>requirements-dev.txt</code>.</li> <li>Inspector: Updated <code>inspect</code> command to display manifest data in a formatted table.</li> <li>Search: Updated <code>search</code> command (Firefox) to display results in a formatted table.</li> <li>Batch Processing: Updated <code>BatchProcessor</code> to show a main \"Batch Progress\" bar and disable individual file download bars during batch operations.</li> <li>Downloaders: Updated <code>ChromeDownloader</code>, <code>EdgeDownloader</code>, and <code>FirefoxDownloader</code> to support an optional <code>show_progress</code> argument.</li> <li>Performance: Refactored <code>BatchProcessor</code> to use <code>concurrent.futures.ThreadPoolExecutor</code> for improved speed when processing large batch files.</li> <li>Documentation: Updated <code>README.md</code> and <code>ROADMAP.md</code> to reflect parallel batch capabilities.</li> <li>Testing: Refactored unit and integration tests to use <code>pyfakefs</code> instead of real temporary files, improving test isolation and speed.</li> </ul>"},{"location":"changelog/#010-2025-12-04","title":"[0.1.0] - 2025-12-04","text":""},{"location":"changelog/#added_16","title":"Added","text":"<ul> <li>Multi-Browser Support: Core functionality to download extensions from Chrome Web Store, Microsoft Edge Add-ons, and Firefox Add-ons.</li> <li>CLI: Unified <code>fext</code> command-line interface with <code>download</code>, <code>batch</code>, and <code>inspect</code> subcommands.</li> <li>Project Structure: Adopted <code>src/</code> layout for better packaging and import isolation.</li> <li>Testing: Implemented a 4-level testing strategy (Unit, CLI, Integration, Live) using <code>pytest</code>.</li> <li>CI/CD: GitHub Actions workflow for automated linting, building, and testing on Python 3.11+.</li> <li>Development Tools: <code>Makefile</code> for common tasks (<code>setup</code>, <code>test</code>, <code>lint</code>, <code>format</code>, <code>build</code>).</li> <li>Linting: Enforced strict code quality with <code>ruff</code> (Python) and <code>markdownlint</code> (Markdown).</li> <li>Inspector: Basic <code>ExtensionInspector</code> to parse and display manifest data from downloaded <code>.crx</code> and <code>.xpi</code> files.</li> <li>Documentation: Comprehensive <code>README.md</code> and <code>copilot-instructions.md</code> for project context and agent guidelines.</li> </ul>"},{"location":"cli/","title":"CLI Reference","text":"<p>The <code>fetchext</code> CLI (command: <code>fext</code>) provides a comprehensive suite of tools for downloading, analyzing, and managing browser extensions.</p>"},{"location":"cli/#basic-usage","title":"Basic Usage","text":"<pre><code>fext &lt;command&gt; [options]\n</code></pre>"},{"location":"cli/#commands","title":"Commands","text":""},{"location":"cli/#download","title":"<code>download</code>","text":"<p>Download an extension from a web store.</p> <pre><code>fext download &lt;browser&gt; &lt;url&gt; [options]\n</code></pre> <p>Aliases: <code>d</code></p> <p>Arguments:</p> <ul> <li><code>browser</code>: The target browser store. Supported values:</li> <li><code>chrome</code> (alias: <code>c</code>)</li> <li><code>edge</code> (alias: <code>e</code>)</li> <li><code>firefox</code> (alias: <code>f</code>)</li> <li><code>url</code>: The full URL of the extension page.</li> </ul> <p>Options:</p> <ul> <li><code>-o, --output-dir &lt;dir&gt;</code>: Directory to save the downloaded file (default: current directory).</li> <li><code>-m, --save-metadata</code>: Save extension metadata (ID, version, name) to a JSON file.</li> <li><code>-x, --extract</code>: Automatically extract the extension contents to a folder.</li> <li><code>--verify-hash &lt;sha256&gt;</code>: Verify the downloaded file against a known SHA256 hash.</li> <li><code>--quiet</code>: Suppress output.</li> <li><code>--verbose</code>: Enable verbose logging. This includes full HTTP request/response headers (with sensitive data redacted) and status codes for debugging network issues.</li> </ul> <p>Note: Downloads are resumable. If a download is interrupted, running the command again will resume from where it left off.</p>"},{"location":"cli/#search","title":"<code>search</code>","text":"<p>Search for extensions in a web store (currently supports Firefox).</p> <pre><code>fext search &lt;browser&gt; &lt;query&gt; [options]\n</code></pre> <p>Aliases: <code>s</code></p> <p>Options:</p> <ul> <li><code>--json</code>: Output results as JSON.</li> <li><code>--csv</code>: Output results as CSV.</li> </ul>"},{"location":"cli/#inspect","title":"<code>inspect</code>","text":"<p>Inspect the metadata (manifest) of a downloaded extension file.</p> <pre><code>fext inspect &lt;file&gt; [options]\n</code></pre> <p>Aliases: <code>i</code></p> <p>Options:</p> <ul> <li><code>--json</code>: Output results as JSON.</li> </ul>"},{"location":"cli/#preview","title":"<code>preview</code>","text":"<p>List the contents of an extension archive without extracting it.</p> <pre><code>fext preview &lt;file&gt;\n</code></pre> <p>Aliases: <code>p</code></p>"},{"location":"cli/#extract","title":"<code>extract</code>","text":"<p>Extract an existing extension file (<code>.crx</code>, <code>.xpi</code>) to a directory.</p> <pre><code>fext extract &lt;file&gt; [-o &lt;output_dir&gt;]\n</code></pre> <p>Aliases: <code>x</code></p>"},{"location":"cli/#batch","title":"<code>batch</code>","text":"<p>Download multiple extensions from a batch file.</p> <pre><code>fext batch &lt;file&gt; [-o &lt;output_dir&gt;] [-w &lt;workers&gt;]\n</code></pre> <p>Aliases: <code>b</code></p> <p>Options:</p> <ul> <li><code>-w, --workers &lt;n&gt;</code>: Number of parallel downloads (default: 4).</li> </ul>"},{"location":"cli/#audit","title":"<code>audit</code>","text":"<p>Audit an extension for Manifest V3 compatibility and deprecated APIs.</p> <pre><code>fext audit &lt;file&gt; [--json]\n</code></pre> <p>Aliases: <code>a</code></p>"},{"location":"cli/#risk","title":"<code>risk</code>","text":"<p>Analyze permission risks and calculate a privacy score.</p> <pre><code>fext risk &lt;file&gt; [--json]\n</code></pre> <p>Aliases: <code>r</code></p>"},{"location":"cli/#scan","title":"<code>scan</code>","text":"<p>Scan an extension for known vulnerable third-party libraries (e.g., jQuery, Lodash).</p> <pre><code>fext scan &lt;file&gt; [--json] [--csv]\n</code></pre>"},{"location":"cli/#analyze","title":"<code>analyze</code>","text":"<p>Perform deep analysis on extension code.</p> <pre><code>fext analyze &lt;file&gt; [options]\n</code></pre> <p>Options:</p> <ul> <li><code>--complexity</code>: Calculate cyclomatic complexity of JavaScript files.</li> <li><code>--entropy</code>: Calculate Shannon entropy to detect obfuscation/packing.</li> <li><code>--domains</code>: Extract domains and URLs from source code.</li> <li><code>--secrets</code>: Scan for potential secrets (API keys, tokens).</li> <li><code>--yara &lt;path&gt;</code>: Scan against YARA rules (file or directory).</li> <li><code>--json</code>: Output results as JSON.</li> </ul>"},{"location":"cli/#report","title":"<code>report</code>","text":"<p>Generate a comprehensive report for an extension.</p> <pre><code>fext report &lt;file&gt; [options]\n</code></pre> <p>Options:</p> <ul> <li><code>-o, --output &lt;file&gt;</code>: Output file path (default: <code>&lt;filename&gt;_REPORT.md</code>).</li> <li><code>--json</code>: Output unified report as JSON.</li> <li><code>--yara &lt;path&gt;</code>: Include YARA scan results in the report.</li> </ul>"},{"location":"cli/#diff","title":"<code>diff</code>","text":"<p>Compare two extension versions.</p> <pre><code>fext diff &lt;old_file&gt; &lt;new_file&gt; [--json] [--ast]\n</code></pre> <p>Options:</p> <ul> <li><code>--json</code>: Output results as JSON.</li> <li><code>--ast</code>: Use AST-based comparison for JavaScript files (ignores whitespace and comments).</li> </ul>"},{"location":"cli/#verify","title":"<code>verify</code>","text":"<p>Cryptographically verify a CRX3 file signature.</p> <pre><code>fext verify &lt;file&gt; [--json]\n</code></pre>"},{"location":"cli/#locales","title":"<code>locales</code>","text":"<p>Inspect supported locales and message counts.</p> <pre><code>fext locales &lt;file&gt; [--json]\n</code></pre>"},{"location":"cli/#check","title":"<code>check</code>","text":"<p>Check for updates of local extension files against the Web Store.</p> <pre><code>fext check &lt;file_or_dir&gt; [--json]\n</code></pre>"},{"location":"cli/#serve","title":"<code>serve</code>","text":"<p>Host the local repository as a Chrome/Edge Update Server.</p> <pre><code>fext serve [-d &lt;directory&gt;] [--host &lt;host&gt;] [-p &lt;port&gt;]\n</code></pre>"},{"location":"cli/#update-manifest","title":"<code>update-manifest</code>","text":"<p>Generate <code>update.xml</code> (Chrome/Edge) or <code>updates.json</code> (Firefox) for self-hosted extensions.</p> <pre><code>fext update-manifest &lt;directory&gt; --base-url &lt;url&gt; [--output &lt;file&gt;]\n</code></pre> <p>Aliases: <code>um</code></p>"},{"location":"cli/#mirror","title":"<code>mirror</code>","text":"<p>Synchronize a local directory with a list of extension IDs.</p> <pre><code>fext mirror &lt;list_file&gt; [-o &lt;output_dir&gt;] [--prune] [-w &lt;workers&gt;]\n</code></pre>"},{"location":"cli/#convert","title":"<code>convert</code>","text":"<p>Convert extensions between formats.</p> <pre><code>fext convert &lt;input&gt; --to &lt;format&gt; [-o &lt;output&gt;]\n</code></pre> <p>Supported Formats: <code>zip</code></p>"},{"location":"cli/#optimize","title":"<code>optimize</code>","text":"<p>Losslessly compress images within an extension directory.</p> <pre><code>fext optimize &lt;directory&gt; [-q &lt;quality&gt;] [--json]\n</code></pre>"},{"location":"cli/#timeline","title":"<code>timeline</code>","text":"<p>Visualize the modification timeline of files within an extension.</p> <pre><code>fext timeline &lt;file&gt; [--json]\n</code></pre>"},{"location":"cli/#graph","title":"<code>graph</code>","text":"<p>Generate a dependency graph of internal files.</p> <pre><code>fext graph &lt;file&gt; [-o &lt;output.dot&gt;]\n</code></pre>"},{"location":"cli/#stats","title":"<code>stats</code>","text":"<p>Analyze a directory of extensions for aggregate statistics.</p> <pre><code>fext stats &lt;directory&gt; [--json]\n</code></pre>"},{"location":"cli/#explain","title":"<code>explain</code>","text":"<p>Get a detailed explanation and risk assessment for a specific permission.</p> <pre><code>fext explain &lt;permission&gt; [--json]\n</code></pre>"},{"location":"cli/#plugin","title":"<code>plugin</code>","text":"<p>Manage Python-based plugins.</p> <pre><code>fext plugin &lt;command&gt; [args]\n</code></pre> <p>Commands:</p> <ul> <li><code>list</code>: List installed plugins.</li> <li><code>install &lt;path&gt;</code>: Install a plugin.</li> <li><code>enable &lt;name&gt;</code>: Enable a plugin.</li> <li><code>disable &lt;name&gt;</code>: Disable a plugin.</li> <li><code>remove &lt;name&gt;</code>: Remove a plugin.</li> </ul>"},{"location":"cli/#pack","title":"<code>pack</code>","text":"<p>Pack an extension directory into a <code>.crx</code> file.</p> <pre><code>fext pack &lt;directory&gt; [options]\n</code></pre> <p>Options:</p> <ul> <li><code>--pem &lt;file&gt;</code>: Path to private key file (generated if not exists).</li> <li><code>--out &lt;file&gt;</code>: Output filename.</li> </ul>"},{"location":"cli/#migrate","title":"<code>migrate</code>","text":"<p>Migrate a Manifest V2 extension to Manifest V3.</p> <pre><code>fext migrate &lt;directory&gt; [options]\n</code></pre> <p>Options:</p> <ul> <li><code>--in-place</code>: Modify files in place.</li> </ul>"},{"location":"cli/#ui","title":"<code>ui</code>","text":"<p>Launch the terminal-based user interface (TUI).</p> <pre><code>fext ui\n</code></pre>"},{"location":"cli/#tutorial","title":"<code>tutorial</code>","text":"<p>Launch the interactive TUI tutorial.</p> <pre><code>fext tutorial\n</code></pre>"},{"location":"cli/#setup","title":"<code>setup</code>","text":"<p>Run the interactive configuration wizard.</p> <pre><code>fext setup\n</code></pre>"},{"location":"cli/#config","title":"<code>config</code>","text":"<p>Manage configuration settings.</p> <pre><code>fext config [show|init]\n</code></pre>"},{"location":"cli/#schema","title":"<code>schema</code>","text":"<p>Get JSON schema for various outputs.</p> <pre><code>fext schema &lt;type&gt;\n</code></pre> <p>Types: <code>config</code>, <code>audit</code>, <code>risk</code>, <code>history</code>, <code>scan</code>.</p>"},{"location":"cli/#share","title":"<code>share</code>","text":"<p>Share a report file via a configured provider (e.g., GitHub Gist).</p> <pre><code>fext share &lt;file&gt; [--provider &lt;provider&gt;] [--description &lt;text&gt;]\n</code></pre> <p>Options:</p> <ul> <li><code>--provider</code>: Sharing provider (default: <code>gist</code>).</li> <li><code>--description</code>: Description for the shared file.</li> </ul>"},{"location":"cli/#watch","title":"<code>watch</code>","text":"<p>Monitor a directory for new extensions and automatically process them.</p> <pre><code>fext watch &lt;directory&gt; [--extract] [--report] [--scan]\n</code></pre> <p>Options:</p> <ul> <li><code>--extract</code>: Automatically extract new extensions.</li> <li><code>--report</code>: Automatically generate reports.</li> <li><code>--scan</code>: Automatically scan for vulnerabilities.</li> </ul>"},{"location":"cli/#rules","title":"<code>rules</code>","text":"<p>Manage analysis rules.</p> <pre><code>fext rules sync [--url &lt;url&gt;] [--dir &lt;dir&gt;]\n</code></pre> <p>Subcommands:</p> <ul> <li><code>sync</code>: Download or update community rules from a git repository.</li> </ul> <p>Options:</p> <ul> <li><code>--url</code>: Git repository URL (overrides config).</li> <li><code>--dir</code>: Local directory to sync to (overrides config).</li> </ul>"},{"location":"cli/#clean","title":"<code>clean</code>","text":"<p>Clean up cache and temporary files.</p> <pre><code>fext clean [--cache] [--downloads] [--all] [--dry-run] [--force]\n</code></pre>"},{"location":"cli/#exit-codes","title":"Exit Codes","text":"<p>The CLI returns the following exit codes to indicate the status of the operation:</p> Code Name Description 0 <code>SUCCESS</code> Command completed successfully. 1 <code>ERROR</code> Generic error (catch-all). 2 <code>USAGE</code> Invalid arguments or usage error. 3 <code>NETWORK</code> Network connection failed (DNS, timeout, connection refused). 4 <code>IO</code> File system error (permission denied, disk full, file not found). 5 <code>CONFIG</code> Configuration error (invalid config file, missing keys). 6 <code>NOT_FOUND</code> Resource not found (extension ID, file). 7 <code>SECURITY</code> Security check failed (signature verification, risk threshold). 8 <code>CANCELLED</code> Operation cancelled by user (Ctrl+C). 9 <code>DEPENDENCY</code> Missing external dependency."},{"location":"configuration/","title":"Configuration","text":"<p><code>fetchext</code> supports a configuration file at <code>~/.config/fext/config.toml</code> (or <code>$XDG_CONFIG_HOME/fext/config.toml</code>).</p>"},{"location":"configuration/#setup","title":"Setup","text":"<p>Run <code>fext setup</code> to generate a default configuration file interactively.</p>"},{"location":"configuration/#configuration-file","title":"Configuration File","text":"<p>The configuration file is in TOML format. Below are the supported sections and keys.</p> <pre><code>[general]\n# Directory to save downloaded extensions\ndownload_dir = \"downloads\"\n\n# Automatically save metadata JSON sidecar files\nsave_metadata = false\n\n# Custom User-Agent string for network requests\nuser_agent = \"Mozilla/5.0 ...\"\n\n[batch]\n# Number of concurrent workers for batch downloads\nworkers = 4\n\n# Delay (in seconds) between requests to avoid rate limiting\ndelay = 0.0\n\n[network]\n# Request timeout in seconds\ntimeout = 30\n\n# Number of retries for failed requests\nretries = 3\n\n# Proxy Configuration\n[network.proxies]\nhttp = \"http://10.10.1.10:3128\"\nhttps = \"http://10.10.1.10:1080\"\n\n[sharing]\n# Sharing provider (currently only \"gist\" is supported)\nprovider = \"gist\"\n\n# GitHub Personal Access Token for Gist uploads\ngithub_token = \"ghp_...\"\n\n# Whether to create public Gists (default: false)\npublic = false\n</code></pre>"},{"location":"configuration/#environment-variables","title":"Environment Variables","text":"<p>You can also override configuration using environment variables, though the config file is preferred.</p> <ul> <li><code>XDG_CONFIG_HOME</code>: Custom location for the configuration directory.</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>This project follows a 100% Vibe Coding policy. All changes are generated by AI agents.</p>"},{"location":"contributing/#workflow","title":"Workflow","text":"<ol> <li>Open an issue describing the feature or bug.</li> <li>An agent will pick up the task and implement it.</li> <li>No manual PRs are accepted.</li> </ol>"},{"location":"contributing/#development","title":"Development","text":"<ul> <li>Linting: <code>make lint</code></li> <li>Testing: <code>make test</code></li> <li>Docs: <code>make docs</code></li> </ul>"},{"location":"contributing/#releasing","title":"Releasing","text":"<p>To release a new version:</p> <ol> <li>Update <code>CHANGELOG.md</code>.</li> <li>Bump version in <code>pyproject.toml</code>.</li> <li>Tag the release:</li> </ol> <pre><code>git tag -s vX.Y.Z -m \"Release vX.Y.Z\"\ngit push origin vX.Y.Z\n</code></pre> <ol> <li>Build and sign artifacts:</li> </ol> <pre><code>make release\n</code></pre>"},{"location":"deployment/","title":"Deployment","text":"<p><code>fetchext</code> is designed to scale from single-user usage to enterprise deployment and repository management.</p>"},{"location":"deployment/#docker","title":"Docker","text":"<p>We provide an official Docker image for containerized usage.</p> <pre><code>docker run --rm -v $(pwd):/app/downloads ghcr.io/grok/fetchext download chrome &lt;url&gt; -o /app/downloads\n</code></pre>"},{"location":"deployment/#building-locally","title":"Building Locally","text":"<p>You can build the image yourself using the provided <code>Dockerfile</code>:</p> <pre><code>docker build -t fetchext .\n</code></pre>"},{"location":"deployment/#local-repository-management","title":"Local Repository Management","text":""},{"location":"deployment/#mirroring","title":"Mirroring","text":"<p>Keep a local folder synchronized with a list of required extensions. This is ideal for maintaining an approved list of extensions for an organization.</p> <pre><code>fext mirror extensions_list.txt --output-dir ./repo --prune\n</code></pre> <p>List Format:</p> <pre><code>chrome &lt;id&gt;\nfirefox &lt;url&gt;\nedge &lt;id&gt;\n</code></pre>"},{"location":"deployment/#update-server","title":"Update Server","text":"<p>You can host your own Chrome/Edge Update Server or Firefox Update Manifest to serve extensions within a private network.</p> <p>1. Generate Manifests:</p> <pre><code>fext update-manifest ./repo --base-url http://internal-extensions.corp.com/\n</code></pre> <p>This creates <code>update.xml</code> (Chrome/Edge) and <code>updates.json</code> (Firefox).</p> <p>2. Serve the Repository: <code>fetchext</code> includes a simple HTTP server for testing or light usage:</p> <pre><code>fext serve -d ./repo -p 8080\n</code></pre> <p>3. Configure Browsers: Point your enterprise policies (GPO / MDM) to your internal update URL:</p> <ul> <li>Chrome/Edge: <code>ExtensionInstallForcelist</code> pointing to <code>http://.../update.xml</code></li> <li>Firefox: <code>ExtensionSettings</code> pointing to <code>http://.../updates.json</code></li> </ul>"},{"location":"deployment/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"deployment/#pre-commit-hook","title":"Pre-commit Hook","text":"<p>Audit extensions committed to your repository for security risks and MV3 compatibility.</p> <p>Add this to your <code>.pre-commit-config.yaml</code>:</p> <pre><code>- repo: https://github.com/grok/fetchext\n  rev: v1.6.0\n  hooks:\n    - id: fext-audit\n    - id: fext-scan\n</code></pre>"},{"location":"deployment/#github-actions","title":"GitHub Actions","text":"<p>You can use <code>fetchext</code> in GitHub Actions to automatically download and analyze extensions.</p> <pre><code>steps:\n  - uses: actions/checkout@v3\n  - uses: actions/setup-python@v4\n    with:\n      python-version: '3.11'\n  - run: pip install fetchext\n  - run: fext audit my-extension.crx\n</code></pre>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11 or higher</li> </ul>"},{"location":"installation/#from-source","title":"From Source","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/grok/fetchext.git\ncd fetchext\n</code></pre> <ol> <li>Set up the environment:</li> </ol> <pre><code>make setup\n</code></pre> <ol> <li>Activate the virtual environment:</li> </ol> <pre><code>source .venv/bin/activate\n</code></pre>"},{"location":"installation/#development-setup","title":"Development Setup","text":"<p>To install development dependencies (for testing, linting, and docs):</p> <pre><code>pip install -r requirements-dev.txt\n</code></pre>"},{"location":"installation/#docker","title":"Docker","text":"<p>Pull the image from GitHub Container Registry:</p> <pre><code>docker pull ghcr.io/grok/fetchext:latest\n</code></pre> <p>Run it:</p> <pre><code>docker run --rm -v $(pwd):/data ghcr.io/grok/fetchext download chrome &lt;url&gt; -o /data\n</code></pre>"},{"location":"installation/#pre-commit-hook","title":"Pre-commit Hook","text":"<p>You can use <code>fetchext</code> in your pre-commit config to automatically audit and scan extensions committed to your repository.</p> <pre><code>- repo: https://github.com/grok/fetchext\n  rev: v1.6.0\n  hooks:\n    - id: fext-audit\n      name: Audit Extension\n      description: Check for MV3 compatibility and security risks.\n    - id: fext-scan\n      name: Scan Dependencies\n      description: Check for vulnerable third-party libraries.\n    - id: fext-analyze\n      name: Analyze Complexity\n      args: [\"--complexity\"]\n</code></pre>"},{"location":"migration/","title":"MV3 Migration Assistant","text":"<p>As browsers deprecate Manifest V2 (MV2), extensions must be migrated to Manifest V3 (MV3). Fetchext provides a migration assistant to automate many of the tedious changes required.</p>"},{"location":"migration/#usage","title":"Usage","text":"<p>To migrate an extension directory:</p> <pre><code>fext migrate &lt;source_directory&gt; [options]\n</code></pre>"},{"location":"migration/#arguments","title":"Arguments","text":"<ul> <li><code>source_directory</code>: The path to the directory containing the MV2 extension.</li> </ul>"},{"location":"migration/#options","title":"Options","text":"<ul> <li><code>--in-place</code>: Modify the files directly in the source directory. (Default is to create a copy).</li> </ul>"},{"location":"migration/#what-it-does","title":"What It Does","text":"<p>The migration tool performs the following automated tasks:</p> <ol> <li>Manifest Version: Updates <code>\"manifest_version\": 2</code> to <code>3</code>.</li> <li>Host Permissions: Moves host permissions (e.g., <code>*://*/*</code>) from <code>permissions</code> to <code>host_permissions</code>.</li> <li>Background Scripts:<ul> <li>Converts <code>background.scripts</code> (array) to <code>background.service_worker</code> (string).</li> <li>If multiple scripts are present, creates a wrapper script (<code>background-wrapper.js</code>) that imports them all.</li> </ul> </li> <li>Browser Action: Renames <code>browser_action</code> to <code>action</code>.</li> <li>Content Security Policy: Converts string-based <code>content_security_policy</code> to the object-based format required by MV3.</li> <li>Web Accessible Resources: Updates the structure to the new object format with <code>resources</code> and <code>matches</code>.</li> </ol>"},{"location":"migration/#manual-steps-required","title":"Manual Steps Required","text":"<p>The tool handles the structural changes, but you may still need to manually update your code:</p> <ul> <li>DOM Access: Service workers cannot access the DOM. You must move DOM logic to offscreen documents or content scripts.</li> <li>API Changes: Some APIs (like <code>webRequest</code>) are replaced by <code>declarativeNetRequest</code>.</li> <li>Remote Code: MV3 forbids remote code execution.</li> </ul>"},{"location":"migration/#hooks","title":"Hooks","text":"<p>The migration process supports plugins via the <code>pre_migrate</code> and <code>post_migrate</code> hooks. See Plugins for more details.</p>"},{"location":"packer/","title":"Extension Packer","text":"<p>Fetchext includes a built-in tool to pack source directories into <code>.crx</code> (Chrome Extension) files. This is useful for developers who want to distribute their extensions or for repackaging modified extensions.</p>"},{"location":"packer/#usage","title":"Usage","text":"<p>To pack an extension directory:</p> <pre><code>fext pack &lt;source_directory&gt; [options]\n</code></pre>"},{"location":"packer/#arguments","title":"Arguments","text":"<ul> <li><code>source_directory</code>: The path to the directory containing the extension source code (must contain a <code>manifest.json</code>).</li> </ul>"},{"location":"packer/#options","title":"Options","text":"<ul> <li><code>--pem &lt;path&gt;</code>: Path to an existing private key (<code>.pem</code>) file. If not provided, a new key will be generated.</li> <li><code>--out &lt;path&gt;</code>: Output filename for the <code>.crx</code> file. Defaults to <code>&lt;directory_name&gt;.crx</code>.</li> </ul>"},{"location":"packer/#examples","title":"Examples","text":""},{"location":"packer/#basic-packing-auto-generate-key","title":"Basic Packing (Auto-generate Key)","text":"<pre><code>fext pack ./my-extension\n</code></pre> <p>This will create:</p> <ul> <li><code>my-extension.crx</code>: The packed extension.</li> <li><code>my-extension.pem</code>: The generated private key (keep this safe!).</li> </ul>"},{"location":"packer/#packing-with-an-existing-key","title":"Packing with an Existing Key","text":"<p>If you have already generated a key (e.g., from a previous pack), use it to maintain the same Extension ID:</p> <pre><code>fext pack ./my-extension --pem my-extension.pem\n</code></pre>"},{"location":"packer/#custom-output-name","title":"Custom Output Name","text":"<pre><code>fext pack ./my-extension --out release-v1.0.crx\n</code></pre>"},{"location":"packer/#technical-details","title":"Technical Details","text":"<p>The packer creates CRX3 format files, which are required by modern browsers.</p> <ul> <li>Signing: Uses RSA-2048 keys.</li> <li>Hashing: Uses SHA-256.</li> <li>Header: Includes the standard CRX3 header with public key and signature proofs.</li> </ul>"},{"location":"packer/#hooks","title":"Hooks","text":"<p>The packing process supports plugins via the <code>pre_pack</code> and <code>post_pack</code> hooks. See Plugins for more details.</p>"},{"location":"plugins/","title":"Plugin System","text":"<p><code>fetchext</code> supports a powerful plugin system that allows you to hook into various stages of the extension lifecycle. Plugins are Python scripts located in <code>~/.config/fext/hooks/</code>.</p>"},{"location":"plugins/#hook-points","title":"Hook Points","text":"<p>The following hooks are available:</p> <ul> <li><code>pre_download</code>: Triggered before a download starts. Can be used to validate the request or cancel the download.</li> <li><code>post_download</code>: Triggered after a download completes successfully.</li> <li><code>post_extract</code>: Triggered after an extension is extracted.</li> <li><code>pre_analysis</code>: Triggered before generating a unified report. Can be used to cancel analysis.</li> <li><code>post_analysis</code>: Triggered after a unified report is generated. Can be used to modify the report.</li> </ul>"},{"location":"plugins/#writing-plugins","title":"Writing Plugins","text":"<p>Plugins are Python scripts (e.g., <code>my_plugin.py</code>) placed in the hooks directory. They should define functions matching the hook names.</p>"},{"location":"plugins/#the-hookcontext-object","title":"The <code>HookContext</code> Object","text":"<p>Each hook function receives a <code>context</code> object with the following attributes:</p> <ul> <li><code>extension_id</code> (str): The ID of the extension.</li> <li><code>browser</code> (str): The browser type (chrome, edge, firefox).</li> <li><code>version</code> (Optional[str]): The version of the extension.</li> <li><code>file_path</code> (Optional[Path]): Path to the downloaded file or extracted directory.</li> <li><code>metadata</code> (Optional[Dict]): Metadata about the extension.</li> <li><code>config</code> (Optional[Dict]): The full configuration dictionary.</li> <li><code>args</code> (Optional[Any]): CLI arguments (if available).</li> <li><code>cancel</code> (bool): Set to <code>True</code> to cancel the operation (for <code>pre_*</code> hooks).</li> <li><code>result</code> (Any): The result of the operation (e.g., the analysis report). Can be modified in <code>post_*</code> hooks.</li> </ul>"},{"location":"plugins/#example-cancel-download-based-on-config","title":"Example: Cancel Download based on Config","text":"<pre><code># ~/.config/fext/hooks/policy.py\n\ndef pre_download(context):\n    # Check a custom config value\n    allowed_browsers = context.config.get(\"policy\", {}).get(\"allowed_browsers\", [])\n\n    if allowed_browsers and context.browser not in allowed_browsers:\n        print(f\"Policy Violation: Browser '{context.browser}' is not allowed.\")\n        context.cancel = True\n</code></pre>"},{"location":"plugins/#example-add-custom-field-to-report","title":"Example: Add Custom Field to Report","text":"<pre><code># ~/.config/fext/hooks/enrich_report.py\n\ndef post_analysis(context):\n    if context.result:\n        context.result[\"custom_field\"] = \"Enriched by Plugin\"\n</code></pre>"},{"location":"plugins/#managing-plugins","title":"Managing Plugins","text":"<p>You can manage plugins using the CLI:</p> <pre><code># List installed plugins\nfext plugin list\n\n# Disable a plugin\nfext plugin disable my_plugin\n\n# Enable a plugin\nfext plugin enable my_plugin\n</code></pre>"},{"location":"tui/","title":"TUI Dashboard","text":"<p>Fetchext v2.0.0 introduces a rich Terminal User Interface (TUI) for a more interactive experience.</p>"},{"location":"tui/#overview","title":"Overview","text":"<p>The TUI Dashboard provides a visual way to:</p> <ul> <li>View repository statistics (downloaded extensions, total size).</li> <li>Browse download history.</li> <li>Search for extensions across multiple browsers (Chrome, Edge, Firefox).</li> <li>Download extensions directly from the interface.</li> </ul>"},{"location":"tui/#launching-the-dashboard","title":"Launching the Dashboard","text":"<p>To start the TUI, run:</p> <pre><code>fext ui\n</code></pre>"},{"location":"tui/#interface-sections","title":"Interface Sections","text":""},{"location":"tui/#1-dashboard-tab","title":"1. Dashboard Tab","text":"<p>The main landing page showing:</p> <ul> <li>Stats: Total extensions downloaded, total disk usage.</li> <li>Recent Activity: A log of recent downloads and actions.</li> <li>System Info: Current Python version and OS details.</li> </ul>"},{"location":"tui/#2-browser-tabs-chrome-edge-firefox","title":"2. Browser Tabs (Chrome, Edge, Firefox)","text":"<p>Each browser has its own tab where you can:</p> <ul> <li>Search: Enter a query in the search bar to find extensions.</li> <li>Results: View search results in a data table.</li> <li>Download: Select an extension and press <code>d</code> to download it.</li> </ul>"},{"location":"tui/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Key Action <code>q</code> Quit the application <code>d</code> Toggle Dark/Light mode <code>Ctrl+p</code> Open Command Palette (if available)"},{"location":"tui/#navigation","title":"Navigation","text":"<ul> <li>Use your mouse to click tabs and buttons.</li> <li>Use <code>Tab</code> and <code>Shift+Tab</code> to navigate between focusable elements.</li> <li>Use <code>Enter</code> to activate buttons or inputs.</li> </ul>"}]}
# Plan: Enhanced Debug Mode

## Objective

Enhance the `-v` / `--verbose` mode to provide detailed network debugging information, including HTTP headers and response codes.

## Current State

- `-v` sets the logging level to `DEBUG`.
- `requests` library is used for network operations.
- Logging is handled by `rich`.

## Proposed Changes

1. **Network Logging**:
    - Modify `src/fetchext/network.py` (or the module handling requests) to log request and response details when logging level is `DEBUG`.
    - Log: URL, Method, Request Headers, Response Code, Response Headers.
    - Redact sensitive headers (e.g., Authorization) if any.

2. **Implementation**:
    - Create a wrapper or hook around `requests.Session.request` or use `hooks` feature of `requests`.
    - Or simply add logging statements before and after `session.get/post` calls in `download_file` and other network functions.

## Verification

- Run a download command with `-v`.
- Verify that headers and status codes are printed to the console.
- Unit test to ensure sensitive data is redacted (if applicable, though currently we don't use auth).

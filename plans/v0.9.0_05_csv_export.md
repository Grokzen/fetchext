# Plan: CSV Export (v0.9.0)

## Goal

Add `--csv` flag to `search` and `scan` commands to allow exporting results to a spreadsheet-friendly format.

## Features

1. **Search Export**:
    - Columns: `id`, `name`, `version`, `url`, `description`, `users`, `rating`.
2. **Scan Export**:
    - Columns: `file`, `library`, `version`, `vulnerable`, `advisory`, `path`.

## Implementation Details

### 1. `src/fetchext/cli.py`

- Add `--csv` argument to `search_parser` and `scan_parser`.
- Mutually exclusive with `--json`.

### 2. `src/fetchext/core.py`

- Update `search_extension` and `scan_extension` to accept `csv_output=True`.
- Implement CSV generation using Python's `csv` module.
- Output to stdout.

### 3. Tests

- `tests/unit/test_csv_export.py`:
  - Mock `sys.stdout`.
  - Verify CSV format.

## Verification

- `fext search firefox adblock --csv`
- `fext scan extension.crx --csv`

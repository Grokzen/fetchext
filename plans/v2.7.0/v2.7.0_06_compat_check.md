# Plan: Cross-Browser Compatibility Check

## 1. Introduction
Developers often want to know if a Chrome extension will work in Firefox or Edge.

## 2. Objectives
- Add `fext check --compat <file>`.
- Analyze `manifest.json` and JS code for browser-specific APIs.

## 3. Implementation Details

### 3.1. Compatibility Database
- Create a mapping of APIs (e.g., `chrome.gcm`, `chrome.identity`) to browser support status (Chrome, Firefox, Edge).
- Use MDN compatibility data (simplified version) or a static list.

### 3.2. Analysis Logic
- **Manifest**: Check keys (e.g., `background.persistent` is ignored in MV3/Firefox differently).
- **Code**: Regex search for `chrome.xxx` APIs.
- Check against the database.

### 3.3. Reporting
- Output a list of "Incompatible" or "Warning" items.
- Example: "API `chrome.gcm` is not supported in Firefox."

## 4. Verification
- **Test**: Analyze an extension using `chrome.gcm`.
- **Assert**: Report warns about Firefox incompatibility.

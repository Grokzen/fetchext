# Plan: Update Checker (v0.6.0)

## Goal

Add a `check` command to `fext` that takes a local extension file (CRX/XPI) or directory, extracts its ID and version, and queries the Web Store to see if a newer version is available.

## Specification

- **CLI**: `fext check <file_or_dir> [--json]`
- **Logic**:
  1. Parse the file/directory to find `manifest.json`.
  2. Extract `name`, `version`, and `update_url` (if available) or infer ID from filename/manifest.
  3. Query the respective Web Store (Chrome/Edge/Firefox) for the latest version.
  4. Compare local version with remote version.
  5. Output result (Up to date / Update available).

## Files to Modify

- `src/fetchext/cli.py`: Add `check` subcommand.
- `src/fetchext/core.py`: Add `check_update` function.
- `src/fetchext/downloaders/base.py`: Add `get_latest_version(id)` method (optional, or just use existing metadata logic).
- `src/fetchext/downloaders/chrome.py`: Implement version check.
- `src/fetchext/downloaders/firefox.py`: Implement version check.
- `src/fetchext/downloaders/edge.py`: Implement version check.

## Verification

- **Unit Tests**: Mock Web Store responses to test "Update Available" and "Up to Date" scenarios.
- **Integration Tests**: Test with a dummy CRX file.

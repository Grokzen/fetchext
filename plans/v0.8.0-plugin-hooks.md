# Plan: Plugin Hooks (v0.8.0)

## Goal
Implement a plugin system to support pre/post-download hooks.

## Design
- **Module**: `src/fetchext/hooks.py`
- **Configuration**: Look for a `hooks` directory in the config path (e.g., `~/.config/fext/hooks`).
- **Mechanism**:
  - Load Python files from the hooks directory.
  - Look for functions named `pre_download(ctx)` and `post_download(ctx)`.
  - `ctx` (Context) object will contain metadata about the extension (id, version, browser, destination path).
- **Integration**:
  - Modify `src/fetchext/core.py` to call hooks around the download process.

## Implementation Steps
1. Create `src/fetchext/hooks.py`.
   - `HookContext` dataclass.
   - `HookManager` class to load and execute hooks.
2. Update `src/fetchext/core.py`.
   - Initialize `HookManager`.
   - Call `run_hook('pre_download', ...)` and `run_hook('post_download', ...)`.
3. Add tests.
   - `tests/unit/test_hooks.py`.

## Hook Context
```python
@dataclass
class HookContext:
    extension_id: str
    browser: str
    version: str | None
    file_path: Path | None
    metadata: dict | None
```

# Plan: Error Telemetry (Local)

## 1. Introduction
Debugging user issues is hard without logs. We need a persistent local error log.

## 2. Objectives
- Log unhandled exceptions to `~/.config/fext/errors.log`.
- Include stack traces and version info.

## 3. Implementation Details

### 3.1. Exception Hook
- In `src/fetchext/cli.py` (entry point):
    - Wrap the `main` execution in a `try...except`.
    - Or use `sys.excepthook`.

### 3.2. Logging Configuration
- Configure a separate `FileHandler` for the `root` logger (or a specific `fetchext` logger) that writes to the error log file.
- Level: `ERROR` or `CRITICAL`.
- Format: `%(asctime)s - %(version)s - %(message)s\n%(exc_info)s`.

### 3.3. Privacy
- Ensure no sensitive data (API keys) is accidentally logged (sanitize command line args if logged).
- Do not upload this log anywhere automatically.

## 4. Verification
- **Test**: Force a crash (raise Exception).
- **Assert**: `errors.log` contains the stack trace.

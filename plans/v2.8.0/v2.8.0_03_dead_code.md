# Plan: Dead Code Detection

## 1. Introduction

Extensions often contain unused files or functions, increasing size and audit complexity.

## 2. Objectives

- Add `fext analyze dead-code <file>`.
- Identify files that are never imported.
- (Advanced) Identify functions that are never called (static analysis).

## 3. Implementation Details

### 3.1. Unused Files

- Build the dependency graph (using `GraphAnalyzer`).
- List all files in the extension.
- `Unused = All Files - (Reachable from Manifest + Imports)`.
- Report these files.

### 3.2. Unused Functions (Basic)

- Regex search for function definitions `function foo()`.
- Search for calls `foo()`.
- If 0 calls, mark as potentially dead (high false positive rate due to dynamic calls, but useful as a hint).

## 4. Verification

- **Test**: Extension with `unused.js` that is not referenced in manifest or other JS files.
- **Assert**: Tool reports `unused.js` as dead code.

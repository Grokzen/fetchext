# Plan: Control Flow Graph

## 1. Introduction

Visualizing the execution path of a function helps understand complex or obfuscated logic.

## 2. Objectives

- Add `fext graph --cfg <file.js>`.
- Generate a Control Flow Graph.

## 3. Implementation Details

### 3.1. AST Analysis

- Use `slimit` or `esprima` (python ports) to parse JS.
- Build a graph where nodes are basic blocks (statements) and edges are control flow (if/else, loops).

### 3.2. Visualization

- Output to DOT format.
- Render with Graphviz.

### 3.3. Scope

- This is complex. Start with function-level CFG. User selects a function name or it generates for the main scope.

## 4. Verification

- **Test**: Simple JS `if (a) { b() } else { c() }`.
- **Assert**: Graph shows branching.

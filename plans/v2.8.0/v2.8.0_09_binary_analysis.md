# Plan: Binary Analysis

## 1. Introduction

Extensions sometimes hide malware in binary files (images, compiled code) that look innocent.

## 2. Objectives

- Add `fext analyze binary <file>`.
- Inspect files for magic bytes.
- Detect anomalies (e.g., a `.png` file that is actually an executable or contains appended data).

## 3. Implementation Details

### 3.1. Magic Library

- Use `python-magic` (libmagic) or a pure python alternative if we want to avoid system deps.
- Or just check standard headers for common formats.

### 3.2. Checks

- **Mime Mismatch**: Extension says `.png` but magic says `application/x-executable`.
- **Steganography (Basic)**: Check for data appended after the EOF marker of images.

### 3.3. Reporting

- Flag suspicious files.

## 4. Verification

- **Test**: Create a fake `.png` that is actually a text file or has extra bytes.
- **Assert**: Analyzer flags it.

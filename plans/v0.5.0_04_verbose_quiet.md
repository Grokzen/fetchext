# Plan: Verbose/Quiet Mode (v0.5.0)

## Goal

Add global logging control via CLI flags `-v` (verbose) and `-q` (quiet).

## Specification

- **Default**: `INFO` level. Shows progress bars, success messages, and important info.
- **Verbose (`-v`, `--verbose`)**: `DEBUG` level. Shows detailed logs, HTTP request details, etc.
- **Quiet (`-q`, `--quiet`)**: `ERROR` level. Suppresses progress bars and info messages. Only shows errors.
- **Conflict**: If both are provided, `Quiet` takes precedence (or raise error). Let's say Quiet takes precedence or last one wins. Standard is usually they conflict. Let's make them mutually exclusive group.

## Implementation Plan

1. **Update `src/fetchext/cli.py`**:
    - Add mutually exclusive group to `argparse`.
    - Add `-v` and `-q` arguments.
    - In `main()`, configure logging based on flags.
    - Pass a `quiet` flag to downloaders/batch processor to suppress progress bars.
    - Currently `RichHandler` is used. We can adjust its level.
    - For progress bars:
        - If `quiet` is True, we should disable `rich` progress bars.
        - `ChromeDownloader.download` already has `show_progress`. We can pass `not args.quiet`.

2. **Update Downloaders**:
    - Ensure `show_progress` is respected (already done in previous steps).

3. **Update `BatchProcessor`**:
    - Pass `show_progress` (or `quiet`) to `process` method.
    - If quiet, disable the main progress bar.

4. **Testing**:
    - Create `tests/cli/test_logging.py`.
    - Verify `-v` sets level to DEBUG.
    - Verify `-q` sets level to ERROR and disables progress.

## Files to Modify

- `src/fetchext/cli.py`
- `src/fetchext/batch.py`
- `tests/cli/test_logging.py` (New)

## Verification

- Run `make test`.

# Plan: v1.7.0 Proxy Configuration

## Objective

Add explicit proxy support to `config.toml` to allow users to route traffic through HTTP/HTTPS proxies.

## Requirements

1. Update `config.toml` schema to accept a `[network.proxies]` section.
2. Update `src/fetchext/network.py` to read these proxies and configure the `requests.Session`.
3. Support `http` and `https` proxy keys.

## Configuration Schema

```toml
[network]
rate_limit_delay = 1.0

[network.proxies]
http = "http://10.10.1.10:3128"
https = "http://10.10.1.10:1080"
```

## Implementation Details

### 1. Config (`src/fetchext/config.py`)

* Ensure the config loader handles nested `network.proxies` correctly (it should automatically if using `tomli`).
* Update validation schema if necessary.

### 2. Network (`src/fetchext/network.py`)

* In `get_session()`, read `config["network"]["proxies"]`.
* Pass the `proxies` dictionary to `requests.Session().proxies`.

## Verification

* Unit test: Mock `load_config` to return proxies and verify `session.proxies` is set correctly.
* Integration test: Hard to test real proxies without a live proxy server, so we will rely on unit tests verifying the configuration injection.
